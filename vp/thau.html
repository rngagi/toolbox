<!doctype html>
<html lang="zh-tw">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=2.0, user-scalable=yes" />
	<title>族語詞彙分級標記 - 邵語 (beta ver. 0.1.5)</title>
	<link rel="stylesheet" type="text/css" href="style.css" media="all">
	<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
	<script src='thau.js'></script>
</head>
<body>
	<h1>族語詞彙分級標記 - 邵語 (beta ver. 0.1.5)</h1>
	<p>說明：<span class="lv1">初級</span>、<span class="lv2">中級</span>、<span class="lv3">中高級</span>、<span class="lv4">高級</span></p>
	<p>範例：<span class="sample" onclick="samp();">lus’an a quyash 過年之歌</span></p>
	<p><textarea id="input"></textarea></p>
	<p><button onclick="conv();">標記</button>
	<button onclick="clean()">清空文字</button></p>
	<p><div id="output" ></div></p>
</body>

<script>
function conv(){
	var input = document.getElementById("input");
	var output = document.getElementById("output");
	var result = splitwords(input.value);
	output.innerHTML = result;
}
function clean(){
	var input = document.getElementById("input").value = "";//清空input
}
function samp(){
	var input = document.getElementById("input");
	var samptxt = "simaq mita wa lus’an, pashtay tunaw mashbabiar, pariqaz mita wa qali, piakakaimahan! piakakarina! yaku dai maqaquyash, ihu dai mimparaw, pashtay tunaw maqa atauduu, pariqaz mita wa qali, a~ a~ a~ a~ a~ a~ a~ a~ pashtay tunaw paqaquyash, piakakaimahan! piakakarina!";
	input.value = samptxt;
}
function splitwords(mystr){
	//分詞並產出 wlist
	var wlist = [];
	var myword = '';
	for(var i=0;i<mystr.length;i++){
		if(mystr[i].match(/^[a-z0-9’]+$/i))
			{myword+=mystr[i];}
		else
			{wlist.push(myword); wlist.push(mystr[i]); myword='';}
	}
	wlist.push(myword);
	//查詞並產出 result
	var result = '';
	for(var i=0;i<wlist.length;i++){
		var tagged = wlist[i];
		for(var j=0;j<voc.length;j++){
			if(wlist[i].toLowerCase()==voc[j].lex.toLowerCase()){tagged = '<span class="lv'+voc[j].lv+'">'+tagged+'</span>';break;}
		}
		result += tagged;
	}
	return result;
}
</script>
